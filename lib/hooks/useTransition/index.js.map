{"version":3,"sources":["../../../src/hooks/useTransition/index.js"],"names":["useTransition","animatedProperties","duration","applyValues","objectApplyValues","ref","animate","onComplete","configure","initialProperties","transitionMediator","TransitionMediator","setInitialProperties","setDuration","setRenderCallback","setShouldAnimate","setOnCompleteCallback","setConfigureCallback","callbackRef","node","hasOwnProperty","current","setNode","dispose","updateAnimationProperties"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CACpBC,kBADoB,EAWjB;AAAA,iFADC,EACD;AAAA,MARDC,QAQC,QARDA,QAQC;AAAA,8BAPDC,WAOC;AAAA,MAPDA,WAOC,iCAPaC,0BAOb;AAAA,MANDC,GAMC,QANDA,GAMC;AAAA,0BALDC,OAKC;AAAA,MALDA,OAKC,6BALS,IAKT;AAAA,MAJDC,UAIC,QAJDA,UAIC;AAAA,MAHDC,SAGC,QAHDA,SAGC;AAAA,mCAFDC,iBAEC;AAAA,MAFDA,iBAEC,sCAFmB,IAEnB;;AACH,MAAMC,kBAAkB,GAAG,oBAAQ,YAAM;AACvC,WAAO,IAAIC,2BAAJ,EAAP;AACD,GAF0B,EAExB,EAFwB,CAA3B;AAIAD,EAAAA,kBAAkB,CAACE,oBAAnB,CAAwCH,iBAAxC;AACAC,EAAAA,kBAAkB,CAACG,WAAnB,CAA+BX,QAA/B;AACAQ,EAAAA,kBAAkB,CAACI,iBAAnB,CAAqCX,WAArC;AACAO,EAAAA,kBAAkB,CAACK,gBAAnB,CAAoCT,OAApC;AACAI,EAAAA,kBAAkB,CAACM,qBAAnB,CAAyCT,UAAzC;AACAG,EAAAA,kBAAkB,CAACO,oBAAnB,CAAwCT,SAAxC,EAVG,CAYH;;AACA,MAAMU,WAAW,GAAG,wBAClB,UAACC,IAAD,EAAU;AACR,QAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,UAAI,OAAOd,GAAP,KAAe,UAAnB,EAA+B;AAC7BA,QAAAA,GAAG,CAACc,IAAD,CAAH;AACD,OAFD,MAEO,IACL,QAAOd,GAAP,MAAe,QAAf,IACAA,GAAG,IAAI,IADP,IAEAA,GAAG,CAACe,cAAJ,CAAmB,SAAnB,CAHK,EAIL;AACAf,QAAAA,GAAG,CAACgB,OAAJ,GAAcF,IAAd;AACD;;AAEDT,MAAAA,kBAAkB,CAACY,OAAnB,CAA2BH,IAA3B;AACD;AACF,GAfiB,EAgBlB,CAACT,kBAAD,EAAqBL,GAArB,CAhBkB,CAApB;AAmBA,wBAAU,YAAM;AACd,WAAO,YAAM;AACXK,MAAAA,kBAAkB,CAACa,OAAnB;AACD,KAFD;AAGD,GAJD,EAIG,CAACb,kBAAD,CAJH;AAMAA,EAAAA,kBAAkB,CAACc,yBAAnB,CAA6CvB,kBAA7C;AAEA,SAAOiB,WAAP;AACD,CApDD;;eAsDelB,a","sourcesContent":["import { useEffect, useMemo, useCallback } from \"react\";\nimport objectApplyValues from \"./objectApplyValues\";\nimport TransitionMediator from \"./TransitionMediator\";\n\nconst useTransition = (\n  animatedProperties,\n  {\n    duration,\n    applyValues = objectApplyValues,\n    ref,\n    animate = true,\n    onComplete,\n    configure,\n    initialProperties = null,\n  } = {}\n) => {\n  const transitionMediator = useMemo(() => {\n    return new TransitionMediator();\n  }, []);\n\n  transitionMediator.setInitialProperties(initialProperties);\n  transitionMediator.setDuration(duration);\n  transitionMediator.setRenderCallback(applyValues);\n  transitionMediator.setShouldAnimate(animate);\n  transitionMediator.setOnCompleteCallback(onComplete);\n  transitionMediator.setConfigureCallback(configure);\n\n  // Keep refs up to date.\n  const callbackRef = useCallback(\n    (node) => {\n      if (node != null) {\n        if (typeof ref === \"function\") {\n          ref(node);\n        } else if (\n          typeof ref === \"object\" &&\n          ref != null &&\n          ref.hasOwnProperty(\"current\")\n        ) {\n          ref.current = node;\n        }\n\n        transitionMediator.setNode(node);\n      }\n    },\n    [transitionMediator, ref]\n  );\n\n  useEffect(() => {\n    return () => {\n      transitionMediator.dispose();\n    };\n  }, [transitionMediator]);\n\n  transitionMediator.updateAnimationProperties(animatedProperties);\n\n  return callbackRef;\n};\n\nexport default useTransition;\n"],"file":"index.js"}